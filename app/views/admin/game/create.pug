extends ../layout
block admin-content

  form(method="POST", action="/admin/game")
    div.card
      div.card-header
        h4 Create game

      div.card-body
        div.row
          div.col-lg-6
            div.form-group
              label(for="title") Title
              input(id="title", name="title", type="text", placeholder="Game title", oninput="return updateGameSlug(event);").form-control
          div.col-lg-6
            div.form-group
              label(for="slug") URL slug
              input(id="slug", name="slug", type="text", placeholder="Enter URL slug").form-control
        
        div.form-group
          label(for="technology") Technology
          select(id="technology", name="technology").custom-select
            option(value="U3", selected) Unity3D
            option(value="H5") HTML5
            option(value="GM") GameMaker

        div.form-group
          label(for="headline") Headline
          input(id="headline", name="headline", type="text", placeholder="Enter headline").form-control

        div.form-group
          label(for="description") Description
          textarea(id="description", name="description", rows="6", placeholder="Enter game description").form-control

        div.form-group
          label(for="configFile") Unity3D config file
          input(id="configFile", name="configFile", type="text", placeholder="Enter configuration filename").form-control

        div.form-group
          label(for="engineFile") Unity3D engine file
          input(id="engineFile", name="engineFile", type="text", placeholder="Enter Unity3D engine filename").form-control

        div.form-group.mb-0
          label(for="credits") Tags
          input(id="tags", name="tags", type="text", placeholder="Enter hashtags").form-control

      div.card-footer
        button(type="submit").btn.btn-primary CREATE GAME
  script.
    var title = document.getElementById('title');
    var slug = document.getElementById('slug');

    function updateGameSlug (event) {
      event.preventDefault();
      slug.value = title.value
      .toLowerCase()
      .replace(/[^a-zA-Z0-9 -]/g, '')
      .replace(/ /g, '-');
      return true;
    }